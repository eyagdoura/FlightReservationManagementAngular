<!DOCTYPE html>
<html>

<head>
    <title>Payment</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
</head>

<body>
    <main class="page payment-page">
        <section class="payment-form dark">
            <div class="container">
                <div class="block-heading">
                </div>

                <form [formGroup]="createFlightForm">
                    <!-- VOL DEPART FORM -->
                    <div class="card-details">
                        <h3 class="title">Vol départ</h3>
                        <div class="row">
                            <div class="form-group col-sm-8">
                                <label for="card-holder">Pays départ</label>
                                <ng-select class="form-control" formControlName="countryDep" bindLabel="name"
                                    appendTo="body" [searchable]="true" [clearable]="true"
                                    (change)="getVilleByCountry($event,'DEPARTURE')" [items]="listCountriesDep">
                                </ng-select>
                            </div>
                            <div class="form-group col-sm-6">
                                <label for="card-holder">Ville départ </label>
                                <ng-select class="form-control" formControlName="cityDep" bindLabel="name"
                                    appendTo="body" [searchable]="true" [clearable]="true"
                                    (change)="getAirportByCity($event,'DEPARTURE')" [(ngModel)]="selectedCityDep">
                                    <ng-option [value]="city" *ngFor="let city of listCitiesDep">
                                        {{city.name}}
                                    </ng-option>
                                </ng-select>
                            </div>
                            <div class="form-group col-sm-6">
                                <label for=""> Aéroport départ</label>
                                <ng-select class="form-control" formControlName="airportDep" bindLabel="name"
                                    appendTo="body" [searchable]="true" [clearable]="true"
                                    [(ngModel)]="flight.airportDep">
                                    <ng-option [value]="airport" *ngFor="let airport of listAirportsDep">
                                        {{airport.name}}
                                    </ng-option>
                                </ng-select>
                            </div>
                            <div class="form-group col-sm-6">
                                <label for="card-number">Date départ</label>
                                <p *ngIf="selectedDateDep != ''">La date du vol de départ est le {{selectedDateDep}}</p>
                                <dl-date-time-picker [selectFilter]="startDatePickerFilter" class="form-control"
                                    formControlName="dateDep" startView="day" maxView="month" minView="minute"
                                    [(ngModel)]="flight.datedep" (change)="selectDate($event,'DEPARTURE')">
                                </dl-date-time-picker>
                            </div>
                        </div>
                    </div>

                    <!-- VOL DARRIVE FORM -->
                    <div class="card-details">
                        <h3 class="title">Vol d'arrivé</h3>
                        <div class="row">
                            <div class="form-group col-sm-8">
                                <label for="card-holder">Pays arrivé</label>
                                <ng-select class="form-control" formControlName="countryArriv" bindLabel="name"
                                    appendTo="body" [searchable]="true" [clearable]="true"
                                    (change)="getVilleByCountry($event,'ARRIVAL')" [items]="listCountriesArriv">
                                </ng-select>
                            </div>
                            <div class="form-group col-sm-6">
                                <label for="card-holder">Ville Arrivé </label>
                                <ng-select class="form-control" formControlName="cityArriv" bindLabel="name"
                                    appendTo="body" [searchable]="true" [clearable]="true"
                                    (change)="getAirportByCity($event,'ARRIVAL')" [(ngModel)]="selectedCityArriv">
                                    <ng-option [value]="city" *ngFor="let city of listCitiesArriv">
                                        {{city.name}}
                                    </ng-option>
                                </ng-select>
                            </div>
                            <div class="form-group col-sm-6">
                                <label for=""> Aéroport Arrivé</label>
                                <ng-select class="form-control" formControlName="airportArriv" bindLabel="name"
                                    appendTo="body" [searchable]="true" [clearable]="true"
                                    [(ngModel)]="flight.airportArriv">
                                    <ng-option [value]="airport" *ngFor="let airport of listAirportsArriv">
                                        {{airport.name}}
                                    </ng-option>
                                </ng-select>
                            </div>
                            <div class="form-group col-sm-6">
                                <label for="card-number">Date arrivé</label>
                                <p *ngIf="selectedDateArriv != ''">La date du vol d'arrivé est le {{selectedDateArriv}}
                                </p>
                                <dl-date-time-picker [selectFilter]="startDatePickerFilter" class="form-control"
                                    formControlName="dateArriv" startView="day" maxView="month" minView="minute"
                                    [(ngModel)]="flight.datearriv" (change)="selectDate($event,'ARRIVAL')">
                                </dl-date-time-picker>
                            </div>
                        </div>
                    </div>

                    <!-- DETAILS FORM -->
                    <div class="card-details">
                        <h3 class="title">Details Vol</h3>
                        <div class="row">
                            <div class="form-group col-sm-8">
                                <label for="card-holder">Numéro de Vol</label>
                                <input type="text" formControlName="numFlight" class="form-control"
                                    placeholder="Num Vol" aria-label="MM" aria-describedby="basic-addon1"
                                    [(ngModel)]="flight.numFlight">
                            </div>
                            <div class="form-group col-sm-6">
                                <label for="card-holder">Prix</label>
                                <input type="text" class="form-control" formControlName="price" placeholder="Prix Vol"
                                    [(ngModel)]="flight.price">
                            </div>
                            <div class="form-group col-sm-6">
                                <label for="">Companie</label>
                                <ng-select class="form-control" formControlName="company" bindLabel="name"
                                    appendTo="body" [searchable]="true" [clearable]="true" [(ngModel)]="flight.company">
                                    <ng-option [value]="comp" *ngFor="let comp of listCompagnies">
                                        <img src="./assets/companiesLogo/{{comp.name}}.png" width="25px"
                                            height="25px" />
                                        {{comp.name}}
                                    </ng-option>
                                </ng-select>
                            </div>
                        </div>
                    </div>

                    <div class="form-group col-sm-12">
                        <button type="button" class="btn btn-primary btn-block" (click)="CreateVol()">Créer un
                            vol</button>
                    </div>
                </form>
            </div>
        </section>
    </main>
</body>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</html>